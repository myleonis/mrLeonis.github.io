import{B as e}from"./BasicUpload.7e56cbd8.js";import{n as a}from"./index.2cc56d29.js";import{d as l,e as t,a3 as r,i as s,X as n,o,c as i,a as d,Y as m,Z as u,x as p,bj as f}from"./vendor.70faab48.js";import"./componentSetting.df76d574.js";const c={class:"n-layout-page-header"},g=f(" 上传图片，用于向用户收集图片信息 "),v={style:{"margin-left":"80px"}},b=f("提交预约"),h=f("重置"),_=l({setup(l){const f=a(),_={name:{required:!0,message:"请输入预约姓名",trigger:"blur"},remark:{required:!0,message:"请输入预约备注",trigger:"blur"},images:{required:!0,type:"array",message:"请上传病例图片",trigger:"change"}},y=t(null),j=r(),{uploadUrl:x}=f,U=s({name:"",mobile:"",images:["https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"]}),k=s({platform:"miniPrograms",timestamp:(new Date).getTime(),token:"Q6fFCuhc1vkKn5JNFWaCLf6gRAc5n0LQHd08dSnG4qo="});function C(){y.value.validate((e=>{e?j.error("验证失败，请填写完整信息"):j.success("验证成功")}))}function q(){y.value.restoreValidation()}function w(e){U.images=p(e)}return(a,l)=>{const t=n("n-card"),r=n("n-input"),s=n("n-form-item"),f=n("n-button"),j=n("n-space"),B=n("n-form"),P=n("n-grid-item"),R=n("n-grid");return o(),i("div",null,[d("div",c,[m(t,{bordered:!1,title:"上传图片"},{default:u((()=>[g])),_:1})]),m(t,{bordered:!1,class:"mt-4 proCard"},{default:u((()=>[m(R,{cols:"2 s:1 m:3 l:3 xl:3 2xl:3",responsive:"screen"},{default:u((()=>[m(P,{offset:"0 s:0 m:1 l:1 xl:1 2xl:1"},{default:u((()=>[m(B,{"label-width":80,model:p(U),rules:_,"label-placement":"left",ref:(e,a)=>{a.formRef=e,y.value=e},class:"py-8"},{default:u((()=>[m(s,{label:"预约姓名",path:"name"},{default:u((()=>[m(r,{value:p(U).name,"onUpdate:value":l[0]||(l[0]=e=>p(U).name=e),placeholder:"输入姓名"},null,8,["value"])])),_:1}),m(s,{label:"预约号码",path:"mobile"},{default:u((()=>[m(r,{placeholder:"电话号码",value:p(U).mobile,"onUpdate:value":l[1]||(l[1]=e=>p(U).mobile=e)},null,8,["value"])])),_:1}),m(s,{label:"病例图片",path:"images"},{default:u((()=>[m(p(e),{action:`${p(x)}/v1.0/files`,headers:p(k),data:{type:0},name:"files",width:100,height:100,onUploadChange:w,value:p(U).images,"onUpdate:value":l[2]||(l[2]=e=>p(U).images=e),helpText:"单个文件不超过2MB，最多只能上传10个文件"},null,8,["action","headers","value"])])),_:1}),d("div",v,[m(j,null,{default:u((()=>[m(f,{type:"primary",onClick:C},{default:u((()=>[b])),_:1}),m(f,{onClick:q},{default:u((()=>[h])),_:1})])),_:1})])])),_:1},8,["model"])])),_:1})])),_:1})])),_:1})])}}});export default _;
