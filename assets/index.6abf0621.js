var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,n=(e,n)=>{for(var i in n||(n={}))l.call(n,i)&&o(e,i,n[i]);if(a)for(var i of a(n))t.call(n,i)&&o(e,i,n[i]);return e};import{T as i,B as r}from"./TableAction.a8b39504.js";import{B as s}from"./BasicForm.c217fbef.js";import{u}from"./useForm.bb1f4829.js";import{g as d}from"./list.6e32cc8d.js";import{s as c,ax as p,d as m,R as f,e as b,a3 as h,i as v,X as y,o as g,a0 as k,Z as w,Y as j,x as _,bO as P,bj as x}from"./vendor.70faab48.js";import"./sortable.esm.11f2586f.js";import"./useDesignSetting.64fe49ff.js";import"./index.2cc56d29.js";import"./propTypes.37756db6.js";import"./componentSetting.df76d574.js";import"./index.esm.ce6efd7b.js";const S=[{title:"id",key:"id",width:100},{title:"名称",key:"name",width:100},{title:"头像",key:"avatar",width:100,render:e=>c(p,{size:48,src:e.avatar})},{title:"地址",key:"address",auth:["basic_list"],ifShow:e=>!0,width:150},{title:"开始日期",key:"beginTime",width:160},{title:"结束日期",key:"endTime",width:160},{title:"创建时间",key:"date",width:100}],C=x(" 新建 "),U=x("刷新数据"),T=x("取消"),N=x("确定"),R=m({setup(e){const a={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}},l=f(),t=b(null),o=h(),p=b(),m=b(!1),x=b(!1),R=v({name:"",address:"",date:null}),O=b({pageSize:5,name:"xiaoMa"}),q=v({width:220,title:"操作",key:"action",fixed:"right",render:e=>c(i,{style:"button",actions:[{label:"删除",icon:"ic:outline-delete-outline",onClick:M.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"编辑",onClick:F.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:()=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:e=>{o.info(`您点击了，${e} 按钮`)}})}),[D,{}]=u({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"姓名",componentProps:{placeholder:"请输入姓名",onInput:e=>{}},rules:[{required:!0,message:"请输入姓名",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1,onInput:e=>{}}},{field:"type",component:"NSelect",label:"类型",componentProps:{placeholder:"请选择类型",options:[{label:"舒适性",value:1},{label:"经济性",value:2}],onUpdateValue:e=>{}}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{}}},{field:"makeTime",component:"NTimePicker",label:"停留时间",componentProps:{clearable:!0,onUpdateValue:e=>{}}},{field:"status",label:"状态",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"预约项目",componentProps:{placeholder:"请选择预约项目",options:[{label:"种牙",value:1},{label:"补牙",value:2},{label:"根管",value:3}],onUpdateChecked:e=>{}}},{field:"makeSource",component:"NRadioGroup",label:"来源",componentProps:{options:[{label:"网上",value:1},{label:"门店",value:2}],onUpdateChecked:e=>{}}}]});function I(){m.value=!0}const B=e=>{return a=this,l=null,t=function*(){return yield d(n(n(n({},R),O.value),e))},new Promise(((e,o)=>{var n=e=>{try{r(t.next(e))}catch(a){o(a)}},i=e=>{try{r(t.throw(e))}catch(a){o(a)}},r=a=>a.done?e(a.value):Promise.resolve(a.value).then(n,i);r((t=t.apply(a,l)).next())}));var a,l,t};function V(e){}function z(){p.value.reload()}function A(e){e.preventDefault(),x.value=!0,t.value.validate((e=>{e?o.error("请填写完整信息"):(o.success("新建成功"),setTimeout((()=>{m.value=!1,z()}))),x.value=!1}))}function F(e){l.push({name:"basic-info",params:{id:e.id}})}function M(e){o.info("点击了删除")}function E(e){z()}function G(e){}return(e,l)=>{const o=y("n-input"),n=y("n-icon"),i=y("n-button"),u=y("n-form-item"),d=y("n-date-picker"),c=y("n-form"),f=y("n-space"),b=y("n-modal"),h=y("n-card");return g(),k(h,{bordered:!1,class:"proCard"},{default:w((()=>[j(_(s),{onRegister:_(D),onSubmit:E,onReset:G},{statusSlot:w((({model:e,field:a})=>[j(o,{value:e[a],"onUpdate:value":l=>e[a]=l},null,8,["value","onUpdate:value"])])),_:1},8,["onRegister"]),j(_(r),{columns:_(S),request:B,"row-key":e=>e.id,ref:(e,a)=>{a.actionRef=e,p.value=e},actionColumn:_(q),"onUpdate:checkedRowKeys":V,"scroll-x":1090},{tableTitle:w((()=>[j(i,{type:"primary",onClick:I},{icon:w((()=>[j(n,null,{default:w((()=>[j(_(P))])),_:1})])),default:w((()=>[C])),_:1})])),toolbar:w((()=>[j(i,{type:"primary",onClick:z},{default:w((()=>[U])),_:1})])),_:1},8,["columns","row-key","actionColumn"]),j(b,{show:m.value,"onUpdate:show":l[4]||(l[4]=e=>m.value=e),"show-icon":!1,preset:"dialog",title:"新建"},{action:w((()=>[j(f,null,{default:w((()=>[j(i,{onClick:l[3]||(l[3]=()=>m.value=!1)},{default:w((()=>[T])),_:1}),j(i,{type:"info",loading:x.value,onClick:A},{default:w((()=>[N])),_:1},8,["loading"])])),_:1})])),default:w((()=>[j(c,{model:_(R),rules:a,ref:(e,a)=>{a.formRef=e,t.value=e},"label-placement":"left","label-width":80,class:"py-4"},{default:w((()=>[j(u,{label:"名称",path:"name"},{default:w((()=>[j(o,{placeholder:"请输入名称",value:_(R).name,"onUpdate:value":l[0]||(l[0]=e=>_(R).name=e)},null,8,["value"])])),_:1}),j(u,{label:"地址",path:"address"},{default:w((()=>[j(o,{type:"textarea",placeholder:"请输入地址",value:_(R).address,"onUpdate:value":l[1]||(l[1]=e=>_(R).address=e)},null,8,["value"])])),_:1}),j(u,{label:"日期",path:"date"},{default:w((()=>[j(d,{type:"datetime",placeholder:"请选择日期",value:_(R).date,"onUpdate:value":l[2]||(l[2]=e=>_(R).date=e)},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["show"])])),_:1})}}});export default R;
