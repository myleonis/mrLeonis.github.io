var e=Object.defineProperty,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(t,i,n)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n,l=(e,l)=>{for(var a in l||(l={}))i.call(l,a)&&o(e,a,l[a]);if(t)for(var a of t(l))n.call(l,a)&&o(e,a,l[a]);return e},a=(e,t,i)=>new Promise(((n,o)=>{var l=e=>{try{r(i.next(e))}catch(t){o(t)}},a=e=>{try{r(i.throw(e))}catch(t){o(t)}},r=e=>e.done?n(e.value):Promise.resolve(e.value).then(l,a);r((i=i.apply(e,t)).next())}));import{T as r,B as d}from"./TableAction.a8b39504.js";import{g as s}from"./list.6e32cc8d.js";import{s as c,ax as u,d as p,e as m,i as y,X as f,o as b,a0 as v,Z as w,Y as h,x as k,bj as j}from"./vendor.70faab48.js";import"./sortable.esm.11f2586f.js";import"./useDesignSetting.64fe49ff.js";import"./index.2cc56d29.js";import"./propTypes.37756db6.js";import"./componentSetting.df76d574.js";import"./index.esm.ce6efd7b.js";const C=[{title:"id",key:"id",width:100},{title:"编码",key:"no",width:100},{title:"名称",key:"name",editComponent:"NInput",editRow:!0,editRule:!0,edit:!0,width:200},{title:"头像",key:"avatar",width:100,render:e=>c(u,{size:48,src:e.avatar})},{title:"地址",key:"address",editRow:!0,editComponent:"NSelect",editComponentProps:{options:[{label:"广东省",value:1},{label:"浙江省",value:2}]},edit:!0,width:200,ellipsis:!1},{title:"开始日期",key:"beginTime",editRow:!0,edit:!0,width:240,editComponent:"NDatePicker",editComponentProps:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},ellipsis:!1},{title:"结束日期",key:"endTime",width:160},{title:"状态",key:"status",editRow:!0,edit:!0,width:100,editComponent:"NSwitch",editValueMap:e=>e?"启用":"禁用"},{title:"创建时间",key:"date",width:160},{title:"停留时间",key:"time",width:80}],g=j("刷新数据"),x=p({setup(e){const t=m(),i=m(""),n=y({pageSize:5,name:"xiaoMa"}),o=y({width:150,title:"操作",key:"action",fixed:"right",align:"center",render:e=>c(r,{style:"button",actions:P(e)})});function u(e){var t;i.value=e.key,null==(t=e.onEdit)||t.call(e,!0)}function p(e){var t;i.value="",null==(t=e.onEdit)||t.call(e,!1,!1)}function j({column:e,value:t,record:i}){"id"===e.key&&(i.editValueRefs.name4.value=`${t}`)}function x(e){return a(this,null,(function*(){var t;(yield null==(t=e.onEdit)?void 0:t.call(e,!1,!0))&&(i.value="")}))}function P(e){return e.editable?[{label:"保存",onClick:x.bind(null,e)},{label:"取消",onClick:p.bind(null,e)}]:[{label:"编辑",onClick:u.bind(null,e)}]}const R=e=>a(this,null,(function*(){return yield s(l(l({},n),e))}));function E(e){}function O(){t.value.reload()}function S({record:e,index:t,key:i,value:n}){}return(e,i)=>{const n=f("n-button"),l=f("n-card");return b(),v(l,{bordered:!1,class:"proCard"},{default:w((()=>[h(k(d),{title:"表格列表",titleTooltip:"这是一个提示",columns:k(C),request:R,"row-key":e=>e.id,ref:(e,i)=>{i.actionRef=e,t.value=e},actionColumn:k(o),onEditEnd:S,onEditChange:j,"onUpdate:checkedRowKeys":E,"scroll-x":1590},{toolbar:w((()=>[h(n,{type:"primary",onClick:O},{default:w((()=>[g])),_:1})])),_:1},8,["columns","row-key","actionColumn"])])),_:1})}}});export default x;
